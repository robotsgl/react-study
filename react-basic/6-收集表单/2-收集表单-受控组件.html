<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>2-收集表单-受控组件</title>
</head>
<body>
	<!-- 准备好一个“容器” -->
	<div id="test"></div>

	<!-- 引入react核心库 -->
	<script type="text/javascript" src="../js/react.development.js"></script>
	<!-- 引入react-dom，用于支持react操作DOM -->
	<script type="text/javascript" src="../js/react-dom.development.js"></script>
	<!-- 引入babel，用于将jsx转为js -->
	<script type="text/javascript" src="../js/babel.min.js"></script>

	<script type="text/babel" > 
        class Login extends React.Component{
            /*
                受控组件
            
            */

            /*
                初始化
            */

            //#region
                /*
                    高阶函数：如果一个函数符合一下2个规范中的任何一个，那么该函数就是高阶函数
                        1：诺A函数，接受的参数是一个函数，那么该A就可以称为高阶函数
                        2：若A函数，调用返回值依然是个函数，那么该A就可以称之为高阶函数
                        常见的高阶函数有：Promise,setTimeout,arr.map
                    函数的柯里化：通过函数调用继续返回函数的方法，实现多次接受参数最后统一处理的函数编码形式
                
                */
            //#endregion


            state = {
                username:'',
                password:''
            }

            handleSubmit = (event) =>{
                event.preventDefault()
                const {username, password} = this.state
                alert(`你输入的用户名是 ${username},密码是${password}`)
            }

            saveUsername = (event) => {
               
                this.setState({username:event.target.value})
            }

            savePassword = (event) => {
                this.setState({password:event.target.value})
            }

            saveFormData = (dateType,event) => {
                this.setState({[dateType] : event.target.value})
            }

            render (){
                return (
                    <form onSubmit = {this.handleSubmit}>
                        用户名：<input onChange = { event => this.saveFormData('username',event)} type='text' name='username'/>
                        密码：<input  onChange = {event => this.saveFormData('password',event)} type='password' name='password'/>
                        <button>登录</button>
                    </form>
                )
            }
        }
    ReactDOM.render(<Login/>,document.getElementById('test'))


	</script>
</body>
</html>